

\input{settings_FM_template.tex}


\usepackage{palatino}
\usepackage{graphicx}
\usepackage{transparent}

\setbeamercovered{transparent=35}

\title[Editor konfiguračních souborů~Flow123d]{Editor konfiguračních souborů~Flow123d}
\subtitle{Diplomová práce}
\author[Bc. Tomáš Křížek]{Bc. Tomáš Křížek}
\institute[TUL]{Technická univerzita v Liberci}
\date{15.~června~2016}
\newcommand{\TextTitulniStranaPodLinkou}{\tiny
Studentská 2 {\color{FM_TUL} |} 461\,17 Liberec 2 {\color{FM_TUL} |} {tomas.krizek1@tul.cz} {\color{FM_TUL} |} 
\href{http://www.fm.tul.cz/}{www.fm.tul.cz}}

\renewcommand{\inserttotalframenumber}{\pageref{lastslide}}

\begin{document}
%\setbeamertemplate{caption}{\insertcaption}


\begin{frame}
	\titlepage
\end{frame}

\begin{frame}
	\frametitle{Obsah}
	\begin{itemize}
		\item Problematika
		\item Motivace
		\item Zpracování konfiguračního souboru
		\item Validace
		\item Kontextová nápověda
		\item Grafické rozhraní
	\end{itemize}
\end{frame}


\begin{frame}[t]
	\frametitle{Problematika}
	\begin{block}{Simulátor Flow123d}
	\begin{itemize}[<+->]
		\item Modelování procesů v horninovém prostředí
		\item Pouze textové rozhraní
		\item Výpočetně náročné $\rightarrow$ vzdálené spouštění
	\end{itemize}
	\end{block}
	
	\begin{block}{Konfigurační soubory}
	\begin{itemize}[<+->]
		\item Definice úlohy
		\item Rozsáhlé možnosti nastavení
		\item Záznamy, pole, primitivní datové typy, abstraktní záznamy
	\end{itemize}
	\end{block}
\end{frame}

\begin{frame}[t]
	\frametitle{Motivace}
	\begin{block}{Chyby v konfiguračních souborech}
	\begin{itemize}[<+->]
		\item Časově náročná detekce a odstranění
		\item Uživatelsky nepřívětivé
	\end{itemize}
	\end{block}
	
	\begin{block}{Vytváření a upravování konfiguračních souborů}
	\begin{itemize}[<+->]
		\item Běžné textové editory
		\item Rozsáhlá referenční dokumentace formátu
	\end{itemize}
	\end{block}
	
	\onslide<5>{
	\vspace{0.5cm}
	$\Rightarrow$ \textit{Specializovaný editor}
	}
\end{frame}

\begin{frame}[fragile]
	\frametitle{Zpracování konfiguračního souboru}
	\only<1>{
	\hspace*{-5pt}\includegraphics[width=\textwidth]{../../img/data_structure_chain_1.pdf}\\
	}
	\only<2-5>{
	\hspace*{-5pt}\includegraphics[width=\textwidth]{../../img/data_structure_chain_2.pdf}\\
	}
	\only<6-9>{
	\hspace*{-5pt}\includegraphics[width=\textwidth]{../../img/data_structure_chain_3.pdf}\\
	}
	\only<10>{
	\hspace*{-5pt}\includegraphics[width=\textwidth]{../../img/data_structure_chain_4.pdf}\\
	}
	\begin{minipage}[t]{0.45\textwidth}
	\begin{block}{Formát YAML}
	\begin{itemize}
		\item<3-> Nahrazuje formát CON
		\item<4-> Přehledná syntaxe
		\item<5-> Návrh použití syntaxe pro zápis (abstraktní záznamy, reference)
		%\item<6-> vlastní implementace zpracování souboru
	\end{itemize}
	\end{block}
	\end{minipage}
	\hspace{5pt}
	\begin{minipage}[t]{0.45\textwidth}
	\begin{block}{Autokonverze}
	\begin{itemize}
		\item<7-> Speciální zkrácený zápis polí či záznamů
		\item<8-> V praxi -- jiný datový typ, než se očekává
		\item<9-> Libovolně vnořené $\rightarrow$ rekurzivní průchod datové struktury
	\end{itemize}
	\end{block}
	\end{minipage}
\end{frame}

\begin{frame}
	\frametitle{Validace}
	\begin{itemize}[<+->]
	\item Včasné odhalení chyb
	\item Přizpůsobí se verzi Flow123d
	\item Upozornění na možné problémy
	\end{itemize}
	\only<1-3>{
		\includegraphics[width=\textwidth]{img/validation_pause.png}
	}
	\only<4->{
		\includegraphics[width=\textwidth]{img/validation.png}
	}
\end{frame}


\begin{frame}
	\frametitle{Kontextová nápověda}
	\begin{itemize}[<+->]
	\item Alternativa k rozsáhlé referenční dokumentaci
	\item Zobrazuje relevantní dokumentaci k právě editované hodnotě (pozici)
	\item Možnost navigace v rámci nápovědy
	\end{itemize}
	\only<1-3>{
		\includegraphics[width=\textwidth]{img/gui_doc_mortar_method_pause.png}
	}
	\only<4->{
		\includegraphics[width=\textwidth]{img/gui_doc_mortar_method.png}
	}
\end{frame}

\begin{frame}
	\frametitle{Grafické rozhraní aplikace}
	\includegraphics[height=7cm]{img/gui.png}
\end{frame}

\begin{frame}
	\frametitle{Shrnutí -- funkce editoru}
	\begin{itemize}[<+->]
	\item Zpracování YAML
	\item Autokonverze
	\item Validace
	\item Kontextová nápověda
	\item Automatické doplňování textu
	\item Vizualizace datové struktury
	\item Přizpůsobí se verzi Flow123d
	\item Multiplatformní aplikace (Windows XP a novější, Linux)
	\end{itemize}
\end{frame}

\begin{frame}
\begin{center}
\label{lastslide}
\huge Děkuji za pozornost.
\end{center}
\end{frame}

\begin{frame}[noframenumbering]
\begin{center}
	\frametitle{Jakým způsobem je realizovaná kontrola aktuální instalace jazyka Python při instalaci editoru?}
	\begin{itemize}[<+->]
		\item Běhové prostředí: Python 3.4, PyQt 5, Python balíčky
		\item Instalační balíčky: \textbf{Windows} (NSIS), Debian
		\item Sestavení: Docker + Jenkins
		\item Všechny závislosti součástí instalace
		\begin{itemize}
			\item Uživatelsky přívětivé
			\item Offline instalace
			\item Větší instalační soubor (zhruba 70MB)
		\end{itemize}
		\item Kontrola verze Pythonu
		\begin{itemize}
			\item Číslování Python verzí major.minor.revision (3.4.3)
			\item Nalezení klíče v registru podle major.minor verze (3.4)
			\item Funguje pro nestandardní umístění
			\item Pokud se nenalezne $\rightarrow$ Instalace Pythonu 3.4.3
		\end{itemize}
	\end{itemize}
\end{center}
\end{frame}

\begin{frame}[noframenumbering]
\begin{center}
	\frametitle{Jakým způsobem je řešen import souborů ve formátu \texttt{*.con}?}
	\begin{itemize}[<+->]
		\item Řešil Ing. Pavel Richter
		\item Úprava \texttt{*.con} na \texttt{*.json} pomocí regulárních výrazů
		\item Načtění formátu \texttt{*.json}
		\item Vyhledání komentářů v textu
		\item Ošetření speciálních případů (\texttt{TYPE}, \texttt{REF})
		\item Sestavení datové struktury
		\item Serializace datové struktury a přidání komentářů
		\item Případné provedení transformace
	\end{itemize}
\end{center}
\end{frame}

\begin{frame}[noframenumbering]
\begin{center}
	\frametitle{Existuje možnost konverze vstupního souboru mezi jednotlivými verzemi Flow123d?}
	\begin{itemize}[<+->]
		\item Řešil Ing. Pavel Richter
		\item Automaticky - při importu
		\item Manuálně - v uživatelském rozhraní aplikace
		\item Aktuálně 1.8.3 $\rightarrow$ 2.0.0
		\item Budoucí verze Flow123d
		\begin{itemize}
			\item Přidání specifikace formátu
			\item Vytvoření transformačního souboru
			\item Není nutné zasahovat do kódu aplikace
		\end{itemize}
	\end{itemize}
\end{center}
\end{frame}

\begin{frame}[noframenumbering]
\begin{center}
	\frametitle{Existuje již nějaký plán (časový, nové funkcionality) dalšího rozvoje?}
	\begin{itemize}[<+->]
		\item Vylepšení zvýraznění syntaxe (editor, strom)
		\item Částečné generování kódu - šablony pro ustálené podstromy
		\item Zabalování kódu v editoru
		\item Zobrazování a konverze jednotek
		\item Speciální zobrazení některých datových typů ve stromu
		\item V projektu GeoMop má ovšem aktuálně prioritu vývoj ostatních aplikací
	\end{itemize}
\end{center}
\end{frame}

\begin{frame}[noframenumbering]
\begin{center}
	\frametitle{Jak náročná by byla úprava aplikace, pokud bude ve Flow123d např. přidán nový vstupní datový typ?}
	\begin{itemize}[<+->]
		\item Záleží na vstupním datovém typu
		\item Primitivní datový typ - snadné, přidání validačních pravidel
		\item Složený datový typ - náročné, pravděpodobně nutné zasáhnout do různých částí aplikace
	\end{itemize}
\end{center}
\end{frame}


\end{document}
